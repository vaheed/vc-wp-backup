<?xml version="1.0"?>
<ruleset name="VirakCloud Backup">
  <description>Project coding standard: PSR-12 base with minimal tweaks.</description>

  <!-- Base standard -->
  <rule ref="PSR12"/>

  <!-- Do not fail CI on warnings (only errors) -->
  <config name="ignore_warnings_on_exit" value="1"/>

  <!-- Paths to scan -->
  <file>src</file>
  <file>virakcloud-backup.php</file>

  <!-- Relax a few noisy sniffs for this project -->
  <!-- Allow bootstrap file to have side effects (WordPress plugin entry point) -->
  <rule ref="PSR1.Files.SideEffects">
    <exclude-pattern>virakcloud-backup.php</exclude-pattern>
  </rule>
  <exclude name="Generic.Formatting.MultipleStatementAlignment"/>
  <exclude name="PSR2.Files.EndFileNewline"/>
  <exclude name="PSR12.Files.EndFileNewline"/>
  <exclude name="Generic.Files.EndFileNewline"/>
  <!-- Method naming: accept snake_case for WordPress-style methods -->
  <exclude name="PSR1.Methods.CamelCapsMethodName"/>
  <exclude name="Squiz.NamingConventions.ValidFunctionName"/>
  <!-- Header spacing between blocks -->
  <exclude name="PSR12.Files.FileHeader"/>
  <!-- Allow inline control structures (common in some WP code paths) -->
  <exclude name="Generic.ControlStructures.InlineControlStructure"/>
  <!-- Brace placement flexibility -->
  <exclude name="Squiz.WhiteSpace.ScopeOpeningBrace"/>
  <exclude name="Squiz.WhiteSpace.ScopeClosingBrace"/>
</ruleset>
